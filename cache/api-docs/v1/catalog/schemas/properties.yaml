PropertyReadonlyProperties:
  type: object
  properties:
    id:
      type: integer
      description: Идентификатор атрибута
      example: 202
    is_system:
      type: boolean
      description: Признак системного неизменяемого атрибута
      example: false
    is_common:
      type: boolean
      description: Признак общего для всех категорий атрибута
      example: false
    created_at:
      description: Дата создания
      format: date-time
      type: string
      example: 2021-07-03T11:57:28.000000Z
    updated_at:
      description: Дата обновления
      format: date-time
      type: string
      example: 2021-07-03T11:57:28.000000Z
  required:
    - id
    - is_system
    - is_common
    - created_at
    - updated_at
PropertyFillableProperties:
  type: object
  properties:
    name:
      type: string
      description: Название свойства
      example: Диагональ
    display_name:
      type: string
      description: Публичное наименование
      example: Диагональ экрана
    code:
      type: string
      description: Код свойства
      example: diagonal
    type:
      type: string
      description: Тип свойства из PropertyTypeEnum
      example: double
    hint_value:
      type: string
      nullable: true
      description: Подсказка при заполнении для значения
      example: Выберите цвет
    hint_value_name:
      type: string
      nullable: true
      description: Подсказка при заполнении для названия значения
      example: Введите название цвета
    is_multiple:
      type: boolean
      description: Поддерживает множественные значения
      example: true
    is_filterable:
      type: boolean
      description: Выводится в фильтрах на витрине
      example: false
    is_public:
      type: boolean
      description: Выводить на витрине
      example: false
    is_active:
      type: boolean
      description: Активность атрибута
      example: true
    is_required:
      type: boolean
      description: Обязательность заполнения для общего (is_common=true) атрибута
      example: true
    has_directory:
      type: boolean
      description: Атрибут имеет справочник значений
      example: false
    is_moderated:
      type: boolean
      description: Атрибут модерируется
      example: false
PropertyFillableRequiredProperties:
  type: object
  required:
    - name
    - display_name
    - code
    - type
    - hint_value
    - hint_value_name
    - is_multiple
    - is_filterable
    - is_public
    - is_active
    - is_required
    - has_directory
    - is_moderated
  additionalProperties:
    type: string
PropertyIncludes:
  type: object
  properties:
    directory:
      type: array
      items:
        $ref: ./directory_values.yaml#/AttributeDirectoryValue
PropertyRequiredProperties:
  type: object
  required:
    - name
    - type
    - display_name
  additionalProperties:
    type: string
Property:
  allOf:
    - $ref: "#/PropertyReadonlyProperties"
    - $ref: "#/PropertyFillableProperties"
    - $ref: "#/PropertyFillableRequiredProperties"
    - $ref: "#/PropertyIncludes"
CreatePropertyRequest:
  allOf:
    - $ref: "#/PropertyFillableProperties"
    - $ref: "#/PropertyRequiredProperties"
ReplacePropertyRequest:
  allOf:
    - $ref: "#/PropertyFillableProperties"
    - $ref: "#/PropertyRequiredProperties"
PatchPropertyRequest:
  allOf:
    - $ref: "#/PropertyFillableProperties"
PropertyResponse:
  x-lg-resource-class-name: ProductPropertiesResource
  type: object
  properties:
    data:
      $ref: "#/Property"
    meta:
      type: object
      additionalProperties:
        type: string
  required:
    - data
SearchPropertiesFilter:
  type: object
  properties:
    id:
      type: integer
      description: Идентификатор(ы) атрибутов
      example: 2
    name_like:
      type: string
      description: Название или часть названия атрибута
      example: Диаг
    code:
      type: string
      description: Код(ы) атрибутов
      example: diagonal
    is_filterable:
      type: boolean
      description: Атрибут доступен для фильтрации на витрине
      example: false
    is_active:
      type: boolean
      description: Атрибут активен и доступен для товаров
      example: true
SearchPropertiesRequest:
  type: object
  properties:
    sort:
      $ref: ../../common_schemas.yaml#/RequestBodySort
    include:
      $ref: ../../common_schemas.yaml#/RequestBodyInclude
    pagination:
      $ref: ../../common_schemas.yaml#/RequestBodyPagination
    filter:
      $ref: "#/SearchPropertiesFilter"
SearchPropertiesResponse:
  x-lg-resource-class-name: ProductPropertiesResource
  type: object
  properties:
    data:
      type: array
      items:
        $ref: "#/Property"
    meta:
      type: object
      properties:
        pagination:
          $ref: ../../common_schemas.yaml#/ResponseBodyPagination
  required:
    - data
    - meta
