ProductImportReadonlyProperties:
  type: object
  properties:
    id:
      type: integer
      example: 100
    created_at:
      description: Create time
      format: date-time
      type: string
      example: 2021-07-03T11:57:28.000000Z
    updated_at:
      description: Update time
      format: date-time
      type: string
      example: 2021-07-03T11:57:28.000000Z
    status:
      description: Import status from CatalogProductImportStatusEnum
      allOf:
        - type: integer
        - $ref: ../enums/catalog_product_import_status_enum.yaml
    file:
      type: string
      description: File url
      example: https://www.example.com/dir/file.csv
    file_name:
      type: string
      example: file.csv
    chunks_count:
      type: integer
      nullable: true
      description: Count of scheduled queue jobs
      example: 10
    chunks_finished:
      type: integer
      description: Count of finished queue jobs
      example: 2
  required:
    - id
    - created_at
    - updated_at
    - status
    - file
    - file_name
    - chunks_count
    - chunks_finished
ProductImportFillableProperties:
  type: object
  properties:
    type:
      description: Import type from CatalofProductImportTypeEnum
      allOf:
        - type: integer
        - $ref: ../enums/catalog_product_import_type_enum.yaml
ProductImportFillableRequiredProperties:
  type: object
  required:
    - type
  additionalProperties:
    type: string
ProductImportIncludes:
  type: object
  properties:
    warnings:
      type: array
      items:
        $ref: ./product_import_warnings.yaml#/ProductImportWarning
ProductImport:
  allOf:
    - $ref: "#/ProductImportReadonlyProperties"
    - $ref: "#/ProductImportFillableProperties"
    - $ref: "#/ProductImportFillableRequiredProperties"
    - $ref: "#/ProductImportIncludes"
CreateProductImportRequest:
  type: object
  properties:
    preload_file_id:
      type: integer
      example: 1
    type:
      description: Import type from CatalogProductImportTypeEnum
      allOf:
        - type: integer
        - $ref: ../enums/catalog_product_import_type_enum.yaml
  required:
    - preload_file_id
    - type
SearchProductImportsRequest:
  type: object
  properties:
    sort:
      $ref: ../../common_schemas.yaml#/RequestBodySort
    include:
      $ref: ../../common_schemas.yaml#/RequestBodyInclude
    pagination:
      $ref: ../../common_schemas.yaml#/RequestBodyPagination
    filter:
      type: object
      additionalProperties:
        type: string
SearchProductImportsResponse:
  type: object
  properties:
    data:
      type: array
      items:
        $ref: "#/ProductImport"
    meta:
      type: object
      properties:
        pagination:
          $ref: ../../common_schemas.yaml#/ResponseBodyPagination
  required:
    - data
    - meta
ProductImportResponse:
  type: object
  properties:
    data:
      $ref: "#/ProductImport"
