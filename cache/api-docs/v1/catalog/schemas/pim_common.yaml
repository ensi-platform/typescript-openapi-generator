BulkOperationProperties:
  type: object
  properties:
    id:
      type: integer
      description: Идентификатор массовой операции
      example: 15324
    action:
      type: string
      $ref: ../enums/catalog_bulk_operation_action_enum.yaml
    entity:
      type: string
      $ref: ../enums/catalog_bulk_operation_entity_enum.yaml
    status:
      type: integer
      $ref: ../enums/catalog_bulk_operation_status_enum.yaml
    ids:
      type: array
      description: Идентификаторы для обработки
      items:
        type: integer
      example:
        - 1
        - 2
        - 3
    ids_string:
      type: string
      description: Идентификаторы для обработки (для вывода в таблицу)
      example: 1, 2, 3
    error_message:
      type: string
      description: Сообщение об ошибке
      nullable: true
    created_at:
      description: Дата создания
      format: date-time
      type: string
      example: 2021-07-03T11:57:28.000000Z
    updated_at:
      description: Дата обновления
      format: date-time
      type: string
      example: 2021-07-03T11:57:28.000000Z
BulkOperationRequiredProperties:
  type: object
  required:
    - id
    - action
    - entity
    - status
    - ids
    - ids_string
    - created_at
    - updated_at
  additionalProperties:
    type: string
BulkOperationIncludes:
  type: object
  properties:
    errors:
      type: array
      items:
        $ref: "#/BulkOperationError"
BulkOperationError:
  type: object
  properties:
    operation_id:
      type: integer
      description: Идентификатор массовой операции
      example: 15324
    entity_id:
      type: integer
      description: Идентификатор сущности
      example: 15324
    message:
      type: string
      description: Ошибка
  required:
    - operation_id
    - entity_id
    - message
BulkOperation:
  allOf:
    - $ref: "#/BulkOperationProperties"
    - $ref: "#/BulkOperationIncludes"
    - $ref: "#/BulkOperationRequiredProperties"
SearchBulkOperationsFilter:
  type: object
  properties:
    id:
      type: integer
      description: Идентификатор(ы) массовой операции
      example: 3
    status:
      type: integer
      description: Идентификатор(ы) статусов из CatalogBulkOperationStatusEnum
    action:
      type: string
      description: Идентификатор(ы) действий из CatalogBulkOperationActionEnum
    entity:
      type: string
      description: Идентификатор(ы) сущностей из CatalogBulkOperationEntityEnum
    created_at_gte:
      type: string
      format: date-time
      description: Дата создания от
      example: 2021-07-03T11:57:28.000000Z
    created_at_lte:
      type: string
      format: date-time
      description: Дата создания до
      example: 2021-07-09T04:25:11.000000Z
    updated_at_gte:
      type: string
      format: date-time
      description: Дата обновления от
      example: 2021-07-03T11:57:28.000000Z
    updated_at_lte:
      type: string
      format: date-time
      description: Дата обновления до
      example: 2021-07-09T04:25:11.000000Z
SearchBulkOperationsRequest:
  type: object
  properties:
    sort:
      $ref: ../../common_schemas.yaml#/RequestBodySort
    include:
      $ref: ../../common_schemas.yaml#/RequestBodyInclude
    pagination:
      $ref: ../../common_schemas.yaml#/RequestBodyPagination
    filter:
      $ref: "#/SearchBulkOperationsFilter"
SearchBulkOperationsResponse:
  type: object
  properties:
    data:
      type: array
      items:
        $ref: "#/BulkOperation"
    meta:
      type: object
      properties:
        pagination:
          $ref: ../../common_schemas.yaml#/ResponseBodyPagination
  required:
    - data
    - meta
