BannerReadonlyProperties:
  type: object
  properties:
    id:
      type: integer
      description: Идентификатор
      example: 1
    code:
      type: string
      description: Код баннера
      example: example-banner
    desktop_image:
      type: string
      description: Ссылка на декстоп изображение
      nullable: true
      example: https://es.ensi-dev.greensight.ru/cms/product-groups/80/40/1_PTG2e6idikYEblBUSeOr.jpg
    mobile_image:
      type: string
      description: Ссылка на мобильное изображение
      nullable: true
      example: https://es.ensi-dev.greensight.ru/cms/product-groups/80/40/1_PTG2e6idikYEblBUSeOr.jpg
    button_id:
      type: integer
      description: Идентификатор кнопки
      nullable: true
      example: null
    created_at:
      description: Дата создания
      format: date-time
      type: string
      example: 2022-09-01T15:47:21.000000Z
    updated_at:
      description: Дата обновления
      format: date-time
      type: string
      example: 2022-09-01T15:47:21.000000Z
  required:
    - id
    - code
    - desktop_image
    - mobile_image
    - button_id
    - created_at
    - updated_at
BannerFillableProperties:
  type: object
  properties:
    name:
      type: string
      description: Название
      example: Акция на 8 марта
    is_active:
      type: boolean
      description: Активность
      example: true
    sort:
      type: integer
      description: Значение сортировки
      example: 500
    url:
      type: string
      nullable: true
      description: Ссылка
      example: /
    type_id:
      type: integer
      nullable: true
      description: Идентификатор типа
      example: 1
    button:
      $ref: ./banner_buttons.yaml#/BannerButtonForCreate
BannerFillableRequiredProperties:
  required:
    - name
    - is_active
    - url
    - type_id
  type: object
  additionalProperties:
    type: string
BannerIncludes:
  type: object
  properties:
    type:
      $ref: ./banner_types.yaml#/BannerType
    button:
      $ref: ./banner_buttons.yaml#/BannerButton
Banner:
  allOf:
    - $ref: "#/BannerReadonlyProperties"
    - $ref: "#/BannerFillableProperties"
    - $ref: "#/BannerFillableRequiredProperties"
    - $ref: "#/BannerIncludes"
CreateBannersRequest:
  allOf:
    - $ref: "#/BannerFillableProperties"
    - $ref: "#/BannerFillableRequiredProperties"
ReplaceBannersRequest:
  allOf:
    - $ref: "#/BannerFillableProperties"
    - $ref: "#/BannerFillableRequiredProperties"
SearchBannersSort:
  type: array
  example:
    - id
  items:
    type: string
    description: '"id" - по-возрастанию, "-id" - по-убыванию'
    enum:
      - id
      - name
      - is_active
SearchBannersFilter:
  type: object
  properties:
    id:
      type: integer
      example: 1
    name:
      type: string
      example: header_main
    is_active:
      type: boolean
      example: true
    type_id:
      type: integer
      example: 1
    button_id:
      type: integer
      example: 1
SearchBannersInclude:
  type: array
  example:
    - button
  items:
    type: string
    enum:
      - type
      - button
SearchBannersRequest:
  type: object
  properties:
    sort:
      $ref: "#/SearchBannersSort"
    filter:
      $ref: "#/SearchBannersFilter"
    include:
      $ref: "#/SearchBannersInclude"
    pagination:
      $ref: ../../../common_schemas.yaml#/RequestBodyPagination
SearchOneBannerRequest:
  type: object
  properties:
    sort:
      $ref: "#/SearchBannersSort"
    filter:
      $ref: "#/SearchBannersFilter"
    include:
      $ref: "#/SearchBannersInclude"
BannerResponse:
  type: object
  properties:
    data:
      $ref: "#/Banner"
    meta:
      type: object
      additionalProperties:
        type: string
  required:
    - data
SearchBannersResponse:
  type: object
  properties:
    data:
      type: array
      items:
        $ref: "#/Banner"
    meta:
      type: object
      properties:
        pagination:
          $ref: ../../../common_schemas.yaml#/ResponseBodyPagination
  required:
    - data
    - meta
