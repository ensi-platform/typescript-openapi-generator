BonusOperationReadonlyProperties:
  type: object
  properties:
    id:
      type: integer
      description: Идентификатор бонусной операции
      example: 10
  required:
    - id
BonusOperationFillableProperties:
  type: object
  properties:
    customer_id:
      type: integer
      description: Идентификатор клиента
      example: 11
    order_number:
      type: integer
      description: Номре заказа
      example: 402100
      nullable: true
    bonus_amount:
      type: number
      description: Количество начисления/списания бонусов (с “-” при списании)
      example: -10.5
    comment:
      type: string
      description: Комментарий к бонусной операции
      nullable: true
    activation_date:
      type: string
      description: Дата активации
      nullable: true
    expiration_date:
      type: string
      description: Дата сгорания
      nullable: true
BonusOperationFillableRequiredProperties:
  type: object
  required:
    - customer_id
    - order_number
    - bonus_amount
    - comment
    - activation_date
    - expiration_date
  additionalProperties:
    type: string
BonusOperation:
  allOf:
    - $ref: "#/BonusOperationReadonlyProperties"
    - $ref: "#/BonusOperationFillableProperties"
    - $ref: "#/BonusOperationFillableRequiredProperties"
CreateBonusOperationRequest:
  allOf:
    - $ref: "#/BonusOperationFillableProperties"
    - $ref: "#/BonusOperationFillableRequiredProperties"
PatchBonusOperationRequest:
  allOf:
    - $ref: "#/BonusOperationFillableProperties"
SearchBonusOperationsFilter:
  type: object
  properties:
    id:
      type: integer
      description: Идентификатор записи
      example: 11
      nullable: true
    customer_id:
      type: integer
      description: Идентификатор клиента
      example: 2
      nullable: true
    order_number:
      type: integer
      description: Номер заказа
      example: 402100
      nullable: true
    earning:
      type: boolean
      description: Скоуп отбора операций начисления баллов
      example: true
      nullable: true
    spending:
      type: boolean
      description: Скоуп отбора операций списания баллов
      example: true
      nullable: true
SearchBonusOperationsRequest:
  type: object
  properties:
    sort:
      $ref: ../../common_schemas.yaml#/RequestBodySort
    filter:
      $ref: "#/SearchBonusOperationsFilter"
    include:
      $ref: ../../common_schemas.yaml#/RequestBodyInclude
    pagination:
      $ref: ../../common_schemas.yaml#/RequestBodyPagination
BonusOperationResponse:
  type: object
  properties:
    data:
      $ref: "#/BonusOperation"
    meta:
      type: object
      additionalProperties:
        type: string
  required:
    - data
SearchBonusOperationsResponse:
  type: object
  properties:
    data:
      type: array
      items:
        $ref: "#/BonusOperation"
    meta:
      type: object
      properties:
        pagination:
          $ref: ../../common_schemas.yaml#/ResponseBodyPagination
  required:
    - data
    - meta
