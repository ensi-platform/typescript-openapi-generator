StoreReadonlyProperties:
  type: object
  properties:
    id:
      type: integer
      description: Идентификатор склада
      example: 1
    created_at:
      type: string
      format: date-time
      description: Время создания склада
      example: 2021-01-15T14:55:35.000000Z
    updated_at:
      type: string
      format: date-time
      description: Время обновления склада
      example: 2021-01-15T14:55:35.000000Z
  required:
    - id
    - created_at
    - updated_at
StoreFillableProperties:
  type: object
  properties:
    seller_id:
      type: integer
      description: ID продавца
      nullable: true
      example: 2
    xml_id:
      nullable: true
      type: string
      description: ID склада у продавца
      example: "015"
    active:
      type: boolean
      description: Флаг активности склада
      example: true
    name:
      type: string
      description: Название
      example: Сокольники
    address:
      $ref: ./data/address.yaml#/Address
    timezone:
      type: string
      description: Часовой пояс
      example: Europe/Moscow
StoreFillableRequiredProperties:
  required:
    - seller_id
    - xml_id
    - active
    - name
    - timezone
  type: object
  additionalProperties:
    type: string
StoreIncludes:
  type: object
  properties:
    workings:
      type: array
      items:
        $ref: ./store_workings.yaml#/StoreWorking
    contacts:
      type: array
      items:
        $ref: ./store_contacts.yaml#/StoreContact
    contact:
      $ref: ./store_contacts.yaml#/StoreContact
    pickup_times:
      type: array
      items:
        $ref: ./store_pickup_times.yaml#/StorePickupTime
Store:
  allOf:
    - $ref: "#/StoreReadonlyProperties"
    - $ref: "#/StoreFillableProperties"
    - $ref: "#/StoreFillableRequiredProperties"
    - $ref: "#/StoreIncludes"
CreateStoreRequest:
  allOf:
    - $ref: "#/StoreFillableProperties"
    - $ref: "#/StoreFillableRequiredProperties"
PatchStoreRequest:
  allOf:
    - $ref: "#/StoreFillableProperties"
SearchStoresFilter:
  type: object
  properties:
    id:
      type: integer
      description: ID склада
      example: 1
    seller_id:
      type: integer
      description: ID продавца
      example: 1
    xml_id:
      type: string
      description: ID склада в системе продавца
      example: "015"
    active:
      type: boolean
      description: Флаг активности склада
      example: true
    name:
      type: string
      description: Название склада
      example: Третий склад
    timezone:
      type: string
      description: Часовой пояс
      example: Europe/Moscow
    address_string:
      type: string
      description: Адрес склада
      example: 124482, г Москва, г Зеленоград, р-н Савелки, к 305
    contact_name:
      type: string
      description: ФИО контактного лица
      example: Данилов Яков Евгеньевич
    contact_phone:
      type: string
      description: Телефон контактного лица
      example: "+79996663322"
    created_at_gte:
      type: string
      format: date-time
      description: Дата создания меньше или равна
      example: 2021-07-09T04:25:11.000000Z
    created_at_lte:
      type: string
      format: date-time
      description: Дата создания больше или равна
      example: 2021-07-03T11:57:28.000000Z
    updated_at_gte:
      type: string
      format: date-time
      description: Дата обновления меньше или равна
      example: 2021-07-09T04:25:11.000000Z
    updated_at_lte:
      type: string
      format: date-time
      description: Дата обновления больше или равна
      example: 2021-07-03T11:57:28.000000Z
SearchStoresRequest:
  type: object
  properties:
    sort:
      $ref: ../../common_schemas.yaml#/RequestBodySort
    filter:
      $ref: "#/SearchStoresFilter"
    include:
      type: array
      items:
        type: string
        enum:
          - workings
          - contacts
          - contact
          - pickup_times
    pagination:
      $ref: ../../common_schemas.yaml#/RequestBodyPagination
StoreResponse:
  type: object
  properties:
    data:
      $ref: "#/Store"
    meta:
      type: object
      additionalProperties:
        type: string
  required:
    - data
SearchStoresResponse:
  type: object
  properties:
    data:
      type: array
      items:
        $ref: "#/Store"
    meta:
      type: object
      properties:
        pagination:
          $ref: ../../common_schemas.yaml#/ResponseBodyPagination
  required:
    - data
    - meta
