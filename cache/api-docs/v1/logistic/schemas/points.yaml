PointReadonlyProperties:
  type: object
  properties:
    id:
      type: integer
      description: Идентификатор пункта
      example: 1
    external_id:
      type: string
      description: Id пункта у службы доставки
      example: "1234"
    name:
      type: string
      description: Название пункта
      example: ПВЗ на Наволокской
    description:
      type: string
      description: Описание проезда
      nullable: true
      example: ПВЗ на Наволокской
    phone:
      type: string
      description: Телефон
      nullable: true
      example: "+794933155105"
    address_reduce:
      type: string
      description: Cокращенный адрес пвз
      nullable: true
    metro_station:
      type: string
      description: Cтанция метро
      nullable: true
      example: Ховрино
    only_online_payment:
      type: boolean
      nullable: true
      description: Выдача только полностью оплаченных посылок
    has_payment_card:
      type: boolean
      nullable: true
      description: Возможна ли оплата картой
    has_courier:
      type: boolean
      nullable: true
      description: Осуществляется ли курьерская доставка
    is_postamat:
      type: boolean
      nullable: true
      description: Отделение является постаматом
    max_value:
      type: string
      nullable: true
      description: Ограничение объема (куб.метры)
    max_weight:
      type: integer
      nullable: true
      description: Ограничение веса (кг)
    created_at:
      description: Дата создания
      format: date-time
      type: string
      example: 2021-01-29T12:36:13.000000Z
    updated_at:
      description: Дата обновления
      format: date-time
      type: string
      example: 2021-01-29T12:36:13.000000Z
  required:
    - id
    - external_id
    - name
    - description
    - phone
    - address_reduce
    - metro_station
    - only_online_payment
    - has_payment_card
    - has_courier
    - is_postamat
    - max_value
    - max_weight
    - created_at
    - updated_at
PointFillableProperties:
  properties:
    delivery_service_id:
      type: integer
      description: Идентификатор службы доставки из DeliveryServiceEnum
      nullable: true
      example: 1
    is_active:
      type: boolean
      description: Активность
    city_guid:
      type: string
      description: ФИАС id населенного пункта
      nullable: true
      example: df284e77-a45c-411d-8901-94c91f4a92e5
    address:
      $ref: ./data/address.yaml#/Address
    geo_lat:
      description: Широта
      type: string
      nullable: true
      example: "55.013548"
    geo_lon:
      description: Долгота
      type: string
      nullable: true
      example: "36.115588"
    timezone:
      type: string
      description: Часовой пояс
      nullable: true
      example: Moscow
PointFillableRequiredProperties:
  required:
    - delivery_service_id
    - is_active
    - city_guid
    - address
    - geo_lat
    - geo_lon
    - timezone
  type: object
  additionalProperties:
    type: string
PointIncludes:
  type: object
  properties:
    point_workings:
      description: Время работы
      type: array
      items:
        $ref: ./point_workings.yaml#/PointWorking
Point:
  allOf:
    - $ref: "#/PointReadonlyProperties"
    - $ref: "#/PointFillableProperties"
    - $ref: "#/PointFillableRequiredProperties"
    - $ref: "#/PointIncludes"
PatchPointRequest:
  allOf:
    - $ref: "#/PointFillableProperties"
SearchPointsRequest:
  type: object
  properties:
    sort:
      $ref: ../../common_schemas.yaml#/RequestBodySort
    filter:
      type: object
      additionalProperties:
        type: string
    include:
      type: array
      items:
        type: string
        description: Подгружаемые связанные сущности
        enum:
          - point_workings
      example:
        - point_workings
    pagination:
      $ref: ../../common_schemas.yaml#/RequestBodyPagination
PointResponse:
  type: object
  properties:
    data:
      $ref: "#/Point"
    meta:
      type: object
      additionalProperties:
        type: string
  required:
    - data
SearchPointsResponse:
  type: object
  properties:
    data:
      type: array
      items:
        $ref: "#/Point"
    meta:
      type: object
      properties:
        pagination:
          $ref: ../../common_schemas.yaml#/ResponseBodyPagination
  required:
    - data
    - meta
